<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1, minimum-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>首页</title>
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="css/swiper.min.css">
	<link rel="stylesheet" href="dist/styles/iview.css">
    <link rel="stylesheet" href="css/header.css">
	<link rel="stylesheet" href="css/index.css">
	<link rel="stylesheet" href="css/common.css">
	<link rel="stylesheet" href="css/footer.css">
	<script src="js/flexible.js"></script>
	<script type="text/javascript" src="js/jquery-3.3.1.js"></script>	
	<script type="text/javascript" src="js/vue.js"></script>
	<script type="text/javascript" src="js/vue-i18n.js"></script>
	<script type="text/javascript" src="js/screeningCondition.js"></script>
	<script type="text/javascript" src="js/language.js"></script>
	<script type="text/javascript" src="js/swiper.min.js"></script>
	<script type="text/javascript" src="js/data.js"></script>
	<script type="text/javascript" src="dist/iview.min.js"></script>
	<script type="text/javascript" src="js/common.js"></script>
	<script type="text/javascript" src="http://at.alicdn.com/t/font_1127175_dsv54txqsew.js"></script>
</head>
<body>
	<div id="index" v-cloak>
		<div class="header">
			<div class="logos">
				<img class="logor" src="images/logor.png">
			</div>
			<svg class="icon nav-menu-switch" aria-hidden="true" v-on:click="show = !show">
			    <use xlink:href="#icon-caidan"></use>
			</svg>
			<div class="person">
				<span v-if="switchlogin" v-on:click="loginshow = !loginshow">{{$t('login')}}</span>
				<a v-else href="personalCenter.html">
					<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-yidenglu"></use>
					</svg>
				</a>
			</div>
			<transition name="fade" mode="out-in">
					<button class="back-to-top" :key="topshow" v-on:click='top()' v-html="$t('header.top')"></button>
			</transition>
			<transition name="fadel" mode="out-in">
			<button class="language-switch" :key="enshow" v-on:click='change()'>{{enshow}}</button>
			</transition>
			<transition name="fadeo" mode="out-in">
					<button class="online-consultation" :key="botshow" v-on:click='consult()' v-html="$t('header.online')"></button>
			</transition>
			<transition name="slide-fade">
				<div v-if="show">
					<div class="mask" v-on:click="show = !show">
					</div>
					<div class="nav-menu">
						<ul>
							<li>
								<a href="index.html">
									<svg class="icon" aria-hidden="true">
									    <use xlink:href="#icon-xiazai45"></use>
									</svg>
									<span>{{ $t("header.home") }}</span>
								</a>
							</li>
							<li>
								<a href="buy.html">
									<svg class="icon" aria-hidden="true">
									    <use xlink:href="#icon-car"></use>
									</svg>
									<span>{{ $t("header.buy") }}</span>
								</a>
							</li>
							<li>
								<a href="sale.html">
									<svg class="icon" aria-hidden="true">
									    <use xlink:href="#icon-maiche"></use>
									</svg>
									<span>{{ $t("header.sale") }}</span>
								</a>
							</li>
							<li>
								<a href="bargain.html">
									<svg class="icon" aria-hidden="true">
									    <use xlink:href="#icon-cart"></use>
									</svg>
									<span>{{ $t("header.bargain") }}</span>
								</a>
							</li>
							<li>
								<a href="installment.html">
									<svg class="icon" aria-hidden="true">
									    <use xlink:href="#icon-huankuanri"></use>
									</svg>
									<span>{{ $t("header.hire") }}</span>
								</a>
							</li>
							<li>
								<a href="about.html">
									<svg class="icon" aria-hidden="true">
									    <use xlink:href="#icon-chehangBmen"></use>
									</svg>
									<span>{{ $t("header.about") }}</span>
								</a>
							</li>
							<li>
								
							</li>
							<li>
								<a href="">
								</a>
							</li>
						</ul>
					</div>
				</div>
			</transition>
			<transition name="searchfade">
				<div class="login-page" v-if="loginshow">
					<div class="loginMask" v-on:click="loginshow = !loginshow">
					</div>
					
					<div class="login" v-if="!regist">
						<div class="close" v-on:click="loginshow = !loginshow">
							<svg class="icon" aria-hidden="true">
								<use xlink:href="#icon-close"></use>
							</svg>
						</div>
						<div class="l-switch">
							<span :class="regist==false?'on':''" data-type = "1" @click="lrswitch($event)">{{$t('log')}}</span>
							<span :class="regist==true?'on':''" data-type = "2" @click="lrswitch($event)">{{$t('register')}}</span>
						</div>
						<div class="login-item">
							<input type="number" class="defa" v-model="logindata.username" :placeholder="$t('pname')"/>
						</div>
						<div class="login-item">
							<input type="number" class="defa getcodeinp" v-model="logindata.password" :placeholder="$t('ppass')"/>
						</div>
						<div class="login-item">
							<input type="button" class="btn-login" :value="$t('log')" @click="login()">
						</div>
						<div class="login-tips">
							<p class="legal">{{$t('loginagree')}}<a href="serivceAgreement.html">《{{$t('useragree')}}》</a>{{$t('and')}}<a href="private.html">《{{$t('privacyPolicy')}}》</a></p>
						</div>
					</div>
					<div class="login" v-else>
						<div class="close" v-on:click="loginshow = !loginshow">
							<svg class="icon" aria-hidden="true">
								<use xlink:href="#icon-close"></use>
							</svg>
						</div>
						<div class="l-switch">
							<span :class="regist==false?'on':''" data-type = "1" @click="lrswitch($event)">{{$t('log')}}</span>
							<span :class="regist==true?'on':''" data-type = "2" @click="lrswitch($event)">{{$t('register')}}</span>
						</div>
						<div class="login-item">
							<input type="number" class="defa" v-model="registerdata.username" :placeholder="$t('pname')"/>
						</div>
						<div class="login-item">
							<input type="number" class="defa getcodeinp" v-model="registerdata.password" :placeholder="$t('ppass')"/>
						</div>
						<div class="login-item">
							<input type="button" class="btn-login" :value="$t('register')" @click="register()">
						</div>
						<div class="login-tips">
							<p class="legal">{{$t('registeragree')}}<a href="serivceAgreement.html">《{{$t('useragree')}}》</a>{{$t('and')}}<a href="private.html">《{{$t('privacyPolicy')}}》</a></p>
						</div>
					</div>
				</div>
			</transition>
		</div>
		<div id="search">
			<input type="text" value="" :placeholder="$t('search.place')" v-on:focus="searchshow = !searchshow"/>
		</div>
		<transition name="searchfade">
			<div class="search-page" v-if="searchshow">
				<div class="sear-top">
					<div class="close" v-on:click="searchshow = !searchshow">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-close"></use>
						</svg>
					</div>
					<div class="content">
						<input type="text">
					</div>
					<div class="search">
						<a href="buy.html">
							<svg class="icon" aria-hidden="true">
								<use xlink:href="#icon-search1187938easyiconnet"></use>
							</svg>
						</a>
					</div>
				</div>
				<div class="search-record">
					<ul>
						<a href="buy.html"><li class="record-item">大众</li></a>
						<a href="buy.html"><li class="record-item">福特</li></a>
						<a href=""><li class="clear">清除历史搜索记录</li></a>
					</ul>
				</div>
				<div class="hot-search">
					<div class="title">
						热门搜索
					</div>
					<ul>
						<a href="buy.html"><li>大众</li></a>
						<a href="buy.html"><li>福特</li></a>
						<a href="buy.html"><li>兰博基尼</li></a>
						<a href="buy.html"><li>兰博基尼</li></a>
						<a href="buy.html"><li>兰博基尼</li></a>
						<a href="buy.html"><li>兰博基尼兰博基尼兰博基尼</li></a>
					</ul>
				</div>
			</div>
		</transition>
		<div class="nav-menu home-nav">
			<ul>
				<li>
					<a href="buy.html">
						<svg class="icon" aria-hidden="true">
						    <use xlink:href="#icon-car"></use>
						</svg>
						<span>{{ $t("header.buy") }}</span>
					</a>
				</li>
				<li>
					<a href="sale.html">
						<svg class="icon" aria-hidden="true">
						    <use xlink:href="#icon-maiche"></use>
						</svg>
						<span>{{ $t("header.sale") }}</span>
					</a>
				</li>
				<li>
					<a href="bargain.html">
						<svg class="icon" aria-hidden="true">
						    <use xlink:href="#icon-cart"></use>
						</svg>
						<span>{{ $t("header.bargain") }}</span>
					</a>
				</li>
				<li>
					<a href="installment.html">
						<svg class="icon" aria-hidden="true">
						    <use xlink:href="#icon-huankuanri"></use>
						</svg>
						<span>{{ $t("header.hire") }}</span>
					</a>
				</li>
			</ul>
		</div>
	  <div class="swiper">
			<Carousel
				v-model="value3"
				:autoplay="setting.autoplay"
				:autoplay-speed="setting.autoplaySpeed"
				:dots="setting.dots"
				:radius-dot="setting.radiusDot"
				:trigger="setting.trigger"
				:arrow="setting.arrow">
				<Carousel-Item  v-for="item in slideArr" v-bind:key='item.id'>
					<img class="carouselimg" :src="item.path" >
					<!-- <div class="demo-carousel">1</div> -->
				</Carousel-Item>
			</Carousel>
		</div>
		<div id="tips">
			<svg class="icon" aria-hidden="true">
				<use xlink:href="#icon-ling"></use>
			</svg>
			<div class="text text-container">
				<ul class="swiper-wrapper">
					<li class="swiper-slide" v-for="item in $t('tipsArr')">{{item}}</li>
				</ul>
			</div>
		</div>
		<span class="price-title">{{ $t("carPrice") }} <a href="buy.html">{{ $t("more") }}&nbsp;></a></span>
		<div class="price-btns">
			<button class="btn" type="button" v-for="item in $t('price')" style="border: none;">
				<a href="buy.html" @click="navigateTopricebuy(item.id)">{{item.detail}}</a>
			</button>
		</div>
		<span class="price-title">{{ $t("carBrand") }}</span>
		<div class="cartype-btns">
			<button type="button" v-for="item in $t('cartype')" @click="navigateToBrandBuy(item.id)">
				<a href="buy.html">
					<div class="img-c">
						<img :src="item.logo" >
					</div>
					<span class="cartype-name">{{item.name}}</span>
				</a>
			</button>
			<button type="button" class="moretype">
				<a href="buy.html">
					<div class="img-c">
						...
					</div>
					<div>{{ $t("more") }}</div>
				</a>
			</button>
		</div>
		<div class="recommoned">
			<span class="re-title">{{ $t("recom") }}</span>
			<div class="sel-type">
				<ul>
					<li v-for="item in $t('seltype')" v-on:click="selected($event)">{{item}}</li>
				</ul>
			</div>
			<div class="car-detail">
				<div class="car-item" v-for="item in $t('explain')" :key='item.id'>
					<a href="carDetail.html" :data-id = "item.id" @click = "navigatorToDetail(item.id)" >
						<img class="bg" :src="item.thumb">
						<img class="favorite" v-if="item.collected == 'y'" src="images/collected.png" @click.stop.prevent="collection(index, item.id)">
						<img v-else class="favorite" src="images/favorite.png" @click.stop.prevent="collection(index, item.id)">
						<div class="car-explain">
							<div class="explain-t">
								<div class="car-name">
									{{ item.model?item.model.year + '&nbsp':''}}
									{{item.series?item.series.name + '&nbsp':''}}
									{{item.model?item.model.displacement + 'L':''}}
								</div>
								<div class="car-price">
									{{item.price}}
								</div>
							</div>
							<div class="distance">
								{{item.mileage + $t('miles')}}
								{{item.model?'·' + item.model.door_count + $t('door'):''}}
								{{item.model?'·' + item.model.driver_type:''}}
								{{item.model?'·' + item.model.cylinder_count + $t('cylinder'):''}}
								{{item.model?'·' + item.model.displacement + 'L':''}}
								{{item.model?'·' + item.model.intake_type:''}}
								{{item.model?'·' + item.model.gearbox:''}}
							</div>
						</div>
					</a>
				</div>
			</div>
		</div>
		<div class="recommoned">
			<span class="re-title">{{ $t("mediaVoice") }}</span>
			<a href="#">
				<div class="media-detail">
					<div class="media-item" v-for="item in $t('media')">
						<img class="bg" src="images/car-1.jpg">
						<div class="media-title">
							{{item.title}}
						</div>
						<div class="media-art">
							{{item.art}}
						</div>
					</div>
				</div>
			</a>
		</div>
		<div class="contact">
			<div class="top">
					<div class="logo"><img src="images/logor.png" ></div>
				<div class="wx">
					<a>
						<img src="images/humacar.png" >
						<span>CHAMPION</span>
					</a>
				</div>
				<div class="phone">
					<a>
						<img src="images/phone.png" >
						<span>+1(888)-888-6518</span>
					</a>
				</div>
			</div>
			</div>
		<div class="adress">
			<ul>
				<a href="#">
					<li>
						<span>洛杉矶旗舰店地址</span>
						<p>19575 E Walnut Dr S Ste C13&C14 City of Industry CA 91748</p>
					</li>
				</a>
				<a href="#">
					<li>
						<span>洛杉矶旗舰店地址</span>
						<p>19575 E Walnut Dr S Ste C13&C14 City of Industry CA 91748</p>
					</li>
				</a>
				<a href="#">
					<li>
						<span>洛杉矶旗舰店地址</span>
						<p>19575 E Walnut Dr S Ste C13&C14 City of Industry CA 91748</p>
					</li>
				</a>
			</ul>
		</div>
		<div class="misc">
			<ul>
				<a v-for="item in $t('misc')" :href="item.src"><li>{{item.content}}</li></a>
			</ul>
		</div>
		<div class="copy">
			<span>
        Copyright@2016 CHAMPION Inc. Privacy Terms
    </span>
		</div>
	</div>
</body>
<script type="text/javascript">
	var locale = localStorage.locale;
	new Vue({
		i18n,
		data: {
			show: false,
			topshow: false,
			botshow: false,
			enshow: "english",
			searchshow: false,
			loginshow: false,
			switchlogin: true,
			regist: false,
			value3: 0,
			setting: {
				autoplay: true,
				autoplaySpeed: 2000,
				dots: 'outside',
				radiusDot: false,
				trigger: 'hover',
				arrow: 'hover'
			},
			logindata: {
				username:'',
				password:''
			},
			registerdata: {
				username:'',
				password:''
			},
			slideArr: ['index_masthead0cn.jpg','index_masthead1.jpg','index_masthead0cn.jpg','index_masthead1.jpg'],
			tipsArr:['免费代办过户','多种金融贷款服务','一年内全美道路救援服务','多种支付渠道（POS机、微信、支付宝等）多种支付渠道（POS机、微信、支付宝等）','100%无佣金'],
		},
		mounted() {
			var that = this;
			$('.sel-type').find('li').eq(0).addClass('sel').css('border-bottom','1px solid #C21B36');
			orifun.initStatu(this);
			//轮播图数据
			data.common('ShowImage/home',function(d){
				console.log(d)
				that.slideArr = d;
			})
			// 可选品牌
			this.brandd();
			// 车行推荐默认最新最热数据
			this.recommonedata(0);
		},
		methods: {
			brandd:function() {
				var that = this;
				data.common('Brand/all',function(d){
					// console.log(d);
					that.$i18n._vm.messages['zh-cn'].cartype = d.slice(0,9);
				},{language: 'cn'})
				data.common('Brand/all',function(d){
					// console.log(d);
					that.$i18n._vm.messages['en'].cartype = d.slice(0,9);
				},{language: 'en'})
			},
			selected:function(e) {
				var len = e.target.parentNode.children.length;
				var node = e.target.parentNode.children;
				for(i=0; i < len; i++){
					node[i].classList.remove('sel');
					node[i].style.borderBottom = '1px solid #EAEAEA';
				}
				e.target.classList.add('sel');
				e.target.style.borderBottom = '1px solid #C21B36';
			},
			recommonedata:function(index) {
				var that = this;
				that.spinShow = true;
				var form = {'type':'luxury'};
				switch(index){
					case 0:
					form = {'type':'newAndHot'};
					break;
					case 1:
					form = {'type':'affordable'};
					break;
					case 2:
					form = {'type':'new'};
					break;
					case 3:
					form = {'type':'luxury'};
					break;
					default:
					form = {};
				}
				form.language = 'cn';
				data.common('Car/listForHome',function(d){
					// console.log(d)
					that.$i18n._vm.messages['zh-cn'].explain = d.slice(0,8);
				},form)
				form.language = 'en';
				data.common('Car/listForHome',function(d){
					// console.log(d)
					that.$i18n._vm.messages['en'].explain = d.slice(0,8);
					that.spinShow = false;
				},form)
			},
			top:function(){
				orifun.top(this);
			},
			login: function() {
				orifun.login(this);
			},
			register: function() {
				orifun.register(this);
			},
			change :function() {
				orifun.change(this);
			},
			consult:function(){
				orifun.consult(this);
			},
			lrswitch:function(e){
				orifun.lrswitch(this,e);
			}
		}
	}).$mount('#index')
	// new Swiper('.swiper-container', {
 //        autoHeight: true,
 //        pagination: {
	// 		el: '.swiper-pagination',
	// 		dynamicBullets: true,
	// 		clickable: true,
 //        },
 //        loop:true,
	// 	observer:true,
 //        autoplay: {
	// 		delay: 2500
 //        }
 //    });
	new Swiper('.text-container', {
		direction:'vertical',
		loop:true,
		autoplay: {
			delay: 2500,
			disableOnInteraction:false
		}
	});
	// 现在应用程序已经准备好了！
</script>
</html>